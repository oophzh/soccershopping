"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","owlCarousel","common","wall","viewer"],function(e,t,i,a,l,r,o,d){function n(){if(!r.util.getLocalCurrency())return void(y=setInterval(function(){n()},500));y&&clearInterval(y),r.dao.homePageProduct({currencyId:r.util.getLocalCurrency()},function(t){var i=r.util.getCurrencySymbol(r.util.getLocalCurrency()),a=r.util.getQueryString("u"),l=r.util.encodeMenuType(r.util.getUvid()),o="";if(a&&(o="?u="+a),h=t.new_arrivals){for(var d=0;d<h.length;d++){for(var n=h[d],c=0;c<n.display_data.length;c++){var p=n.display_data[c];p.original_price=r.util.formatProductPrice(p.original_price,i),p.current_price=r.util.formatProductPrice(p.current_price,i),p.img_display=r.util.picUrl+p.img_display,p.color_img=r.util.picUrl+p.color_img,p.height=r.util.getHomeImageHeight(),p.top=Number(r.util.getHomeImageHeight())-50,p.href=r.util.formatProductName(n.product_name)+"-d-"+r.util.encodeMenuType(n.product_id)+"-"+r.util.encodeMenuType(p.color_id)+"-"+l+".html"+o}n.showColor=sessionStorage.img_block}e("#new_bxslider").html(e("#productItemTempl").tmpl(h)),e("#new_bxslider_wrap").show()}else e("#new_bxslider_wrap").hide();if(_=t.best_sellers){for(var d=0;d<_.length;d++){for(var n=_[d],c=0;c<n.display_data.length;c++){var p=n.display_data[c];p.original_price=r.util.formatProductPrice(p.original_price,i),p.current_price=r.util.formatProductPrice(p.current_price,i),p.img_display=r.util.picUrl+p.img_display,p.color_img=r.util.picUrl+p.color_img,p.height=r.util.getHomeImageHeight(),p.top=Number(r.util.getHomeImageHeight())-50,p.href=r.util.formatProductName(n.product_name)+"-d-"+r.util.encodeMenuType(n.product_id)+"-"+r.util.encodeMenuType(p.color_id)+"-"+l+".html"+o}n.showColor=sessionStorage.img_block}e("#best_bxslider").html(e("#productItemTempl").tmpl(_)),e("#best_bxslider_wrap").show()}else e("#best_bxslider_wrap").hide();if(u(h,_),t.top_club){var s=t.top_club;if(s&&s.length>0){for(var d=0;d<s.length;d++)s[d].menu_icon&&(s[d].menu_icon=r.util.picUrl+s[d].menu_icon),s[d].product&&s[d].product.display_data&&s[d].product.display_data.length>0&&s[d].product.display_data[0].img_display&&(s[d].product.display_data[0].img_display=r.util.picUrl+s[d].product.display_data[0].img_display,s[d].product.display_data[0].height=r.util.getHomeImageHeight(),s[d].product.link=r.util.formatProductName(s[d].product.product_name)+"-d-"+r.util.encodeMenuType(s[d].product.product_id)+"-"+r.util.encodeMenuType(s[d].product.display_data[0].color_id)+"-"+l+".html"+o,s[d].product.top=Number(r.util.getHomeImageHeight())-50),s[d].link=r.util.formatProductName(s[d].menu_name)+"-l-"+r.util.encodeMenuType(s[d].menu_type)+"-"+l+".html"+o;var m=s;e("#topClubList").html(e("#categotyItemTempl").tmpl(m)),e("#topClubListWrap").show()}else e("#topClubListWrap").hide()}if(t.top_team){var g=t.top_team;if(g&&g.length>0){for(var d=0;d<g.length;d++)g[d].menu_icon&&(g[d].menu_icon=r.util.picUrl+g[d].menu_icon),g[d].product&&g[d].product.display_data&&g[d].product.display_data.length>0&&g[d].product.display_data[0].img_display&&(g[d].product.display_data[0].img_display=r.util.picUrl+g[d].product.display_data[0].img_display,g[d].product.display_data[0].height=r.util.getHomeImageHeight(),g[d].product.link=r.util.formatProductName(g[d].product.product_name)+"-d-"+r.util.encodeMenuType(g[d].product.product_id)+"-"+r.util.encodeMenuType(g[d].product.display_data[0].color_id)+"-"+l+".html"+o,g[d].product.top=Number(r.util.getHomeImageHeight())-50),g[d].link=r.util.formatProductName(g[d].menu_name)+"-l-"+r.util.encodeMenuType(g[d].menu_type)+"-"+l+".html"+o;var f=g;e("#topNationalList").html(e("#categotyItemTempl").tmpl(f)),e("#topTeamListWrap").show()}else e("#topTeamListWrap").hide()}e("#topClubList, #topNationalList").trigger("destroy.owl.carousel"),e("#topClubList, #topNationalList").owlCarousel({nav:!0,loop:!1,slideBy:"page",autoPlay:!0,rewind:!1,smartSpeed:70,responsive:{0:{items:1},480:{items:3},600:{items:3},960:{items:3},1200:{items:4},1550:{items:4},1650:{items:4}},navText:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']}),e(".loading-mask").addClass("hide"),e("footer").removeClass("invisibility")},null,function(){e(".loading-mask").addClass("hide"),e("footer").removeClass("invisibility"),e("a").each(function(){var t=e(this).attr("href"),i=r.util.getQueryString("u");if(!(t&&t.indexOf("-l-")>-1||t&&t.indexOf("-d-")>-1||"https://www.tracksorder.online/"==t)){if(t&&t.indexOf("uvid=")<0&&"javascript:void(0)"!==t)if("/"==t)t=t+"?uvid="+r.util.getUvid();else if(t&&t.indexOf("uvid=")<0&&-1==t.indexOf("ssl-checker.html#hostname=")){var a=t.length-"html".length;t=a>=0&&t.lastIndexOf("html")==a?t+"?uvid="+r.util.getUvid():t+"&uvid="+r.util.getUvid()}if(i&&"javascript:void(0)"!==t)if("/"==t)t=t+"?u="+i;else if(t){var a=t.length-"html".length;t=a>=0&&t.lastIndexOf("html")==a?t+"?u="+i:t+"&u="+i}e(this).attr("href",t)}})})}function u(t,i){e("#new_bxslider, #best_bxslider").trigger("destroy.owl.carousel"),e("#new_bxslider, #best_bxslider").owlCarousel({nav:!0,loop:!1,slideBy:"page",autoPlay:!0,rewind:!1,smartSpeed:70,responsive:{0:{items:1},480:{items:3},600:{items:3},960:{items:3},1200:{items:4},1550:{items:4},1650:{items:4}},navText:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']}),e("#new_bxslider li .color-wrap img").bind("click",function(i){c(i,e(this),t)}),e("#best_bxslider li .color-wrap img").bind("click",function(t){c(t,e(this),i)})}function c(e,t,i){e.stopPropagation();var a=t.parent().parent().parent().data().data,l=t.data().data,i=i[a].display_data[l];t.parent().parent().find("img").removeClass("selected"),t.addClass("selected");var r=i.href;t.parent().parent().parent().find("a:first").attr("href",r),t.parent().parent().parent().find("img:first").attr("src",i.img_display),t.parent().parent().parent().find(".price-wrap .goods-price").html(i.current_price),t.parent().parent().parent().find(".price-wrap .goods-del-price").html(i.original_price)}function p(){s()}function s(){r.dao.listImgWall({currentPage:f.curPage,terminal:r.util.isMobile()?"2":"1",currencyId:r.util.getLocalCurrency()},function(t){if(t.page){if(1==f.curPage){f.amount=t.page.amount,f.pageSize=t.page.pageSize;var i=0;i=f.amount%f.pageSize==0?parseInt(f.amount/f.pageSize):parseInt(f.amount/f.pageSize)+1,f.totalPage=i}}else f.totalPage=0,f.amount=0;0==f.amount?e("#pic_wall_list_wrap").addClass("hide"):(e("#pic_wall_list_wrap").removeClass("hide"),o.init(document.getElementById("cells"),document.getElementById("picWallTempl").innerHTML),o.setCompleteCallback(function(){e("#cell_loading").addClass("hide"),g(),f.curPage==f.totalPage&&e("#more_btn").addClass("hide")}),o.loadingData=!0,o.concatData(m(t.imgs)))})}function m(e){for(var t=0;t<e.length;t++){var i=e[t];i.aiName=r.util.imgWallUrl+i.aiName,i&&i.aiHref?i.aiHref=i.aiHref:i.aiHref="javascript:void(0)";var a=r.util.getCurrencySymbol(r.util.getLocalCurrency());i.curPrice=r.util.formatProductPrice(i.curPrice,a),i.orgPrice=r.util.formatProductPrice(i.orgPrice,a)}return e}function g(){e("#cells img").each(function(){e(this).click(function(){d?e("#cells").viewer("update"):d=e("#cells").viewer({url:"data-original",toolbar:{zoomIn:!1,zoomOut:!1,oneToOne:!1,reset:!1,prev:{show:!0,size:"large"},play:!1,next:{show:!0,size:"large"},rotateLeft:!1,rotateRight:!1,flipHorizontal:!1,flipVertical:!1},navbar:!1,movable:!0,title:!1,transition:!1,button:!1,hide:function(){e("#wall_buy_wrap").addClass("hide")},show:function(){e("#wall_buy_wrap").removeClass("hide")},view:function(t){var i=o.picData[t.detail.index];e("#wall_buy_btn").attr("href",i.aiHref),i.productName?(e("#wall_product_name").html(i.productName),e("#wall_product_price").html(i.curPrice),e("#wall_product_del_price").html(i.orgPrice)):(e("#wall_product_name").html(""),e("#wall_product_price").html(""),e("#wall_product_del_price").html(""))}})})})}console.log("home.js");var h="",_="",d=null,f={amount:0,curPage:1,pageSize:0,totalPage:0};r.setCurrencyCodeCallback(function(){n(),sessionStorage.picWallSwitch&&"1"==sessionStorage.picWallSwitch?(e("#cell_wrap").removeClass("hide"),p()):e("#cell_wrap").addClass("hide")}),console.log("common.sessionStorageEnable = "+r.sessionStorageEnable),r.sessionStorageEnable&&r.initLoginStatus(),self!=top&&e(document.body).parent().addClass("overflowY");var y=null});