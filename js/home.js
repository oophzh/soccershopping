"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","owlCarousel","common","wall","viewer"],function(e,t,i,a,l,r,o,d){function n(){if(!r.util.getLocalCurrency())return void(f=setInterval(function(){n()},500));f&&clearInterval(f),r.dao.homePageProduct({currencyId:r.util.getLocalCurrency()},function(t){var i=r.util.getCurrencySymbol(r.util.getLocalCurrency()),a=r.util.getQueryString("u"),l=r.util.encodeMenuType(r.util.getUvid()),o="";if(a&&(o="?u="+a),g=t.new_arrivals){for(var d=0;d<g.length;d++){for(var n=g[d],p=0;p<n.display_data.length;p++){var s=n.display_data[p];s.original_price=r.util.formatProductPrice(s.original_price,i),s.current_price=r.util.formatProductPrice(s.current_price,i),s.img_display=r.util.picUrl+s.img_display,s.color_img=r.util.picUrl+s.color_img,s.height=r.util.getHomeImageHeight(),s.top=Number(r.util.getHomeImageHeight())-50,s.href=r.util.formatProductName(n.product_name)+"-d-"+r.util.encodeMenuType(n.product_id)+"-"+r.util.encodeMenuType(s.color_id)+"-"+l+".html"+o}n.showColor=sessionStorage.img_block}e("#new_bxslider").html(e("#productItemTempl").tmpl(g)),e("#new_bxslider_wrap").show()}else e("#new_bxslider_wrap").hide();if(h=t.best_sellers){for(var d=0;d<h.length;d++){for(var n=h[d],p=0;p<n.display_data.length;p++){var s=n.display_data[p];s.original_price=r.util.formatProductPrice(s.original_price,i),s.current_price=r.util.formatProductPrice(s.current_price,i),s.img_display=r.util.picUrl+s.img_display,s.color_img=r.util.picUrl+s.color_img,s.height=r.util.getHomeImageHeight(),s.top=Number(r.util.getHomeImageHeight())-50,s.href=r.util.formatProductName(n.product_name)+"-d-"+r.util.encodeMenuType(n.product_id)+"-"+r.util.encodeMenuType(s.color_id)+"-"+l+".html"+o}n.showColor=sessionStorage.img_block}e("#best_bxslider").html(e("#productItemTempl").tmpl(h)),e("#best_bxslider_wrap").show()}else e("#best_bxslider_wrap").hide();if(u(g,h),t.top_club){var c=t.top_club;if(c&&c.length>0){for(var d=0;d<c.length;d++)c[d].menu_icon&&(c[d].menu_icon=r.util.picUrl+c[d].menu_icon),c[d].product&&c[d].product.display_data&&c[d].product.display_data.length>0&&c[d].product.display_data[0].img_display&&(c[d].product.display_data[0].img_display=r.util.picUrl+c[d].product.display_data[0].img_display,c[d].product.display_data[0].height=r.util.getHomeImageHeight(),c[d].product.link=r.util.formatProductName(c[d].product.product_name)+"-d-"+r.util.encodeMenuType(c[d].product.product_id)+"-"+r.util.encodeMenuType(c[d].product.display_data[0].color_id)+"-"+l+".html"+o,c[d].product.top=Number(r.util.getHomeImageHeight())-50),c[d].link=r.util.formatProductName(c[d].menu_name)+"-l-"+r.util.encodeMenuType(c[d].menu_type)+"-"+l+".html"+o;var m=c;e("#topClubList").html(e("#categotyItemTempl").tmpl(m)),e("#topClubListWrap").show()}else e("#topClubListWrap").hide()}if(t.top_team){var _=t.top_team;if(_&&_.length>0){for(var d=0;d<_.length;d++)_[d].menu_icon&&(_[d].menu_icon=r.util.picUrl+_[d].menu_icon),_[d].product&&_[d].product.display_data&&_[d].product.display_data.length>0&&_[d].product.display_data[0].img_display&&(_[d].product.display_data[0].img_display=r.util.picUrl+_[d].product.display_data[0].img_display,_[d].product.display_data[0].height=r.util.getHomeImageHeight(),_[d].product.link=r.util.formatProductName(_[d].product.product_name)+"-d-"+r.util.encodeMenuType(_[d].product.product_id)+"-"+r.util.encodeMenuType(_[d].product.display_data[0].color_id)+"-"+l+".html"+o,_[d].product.top=Number(r.util.getHomeImageHeight())-50),_[d].link=r.util.formatProductName(_[d].menu_name)+"-l-"+r.util.encodeMenuType(_[d].menu_type)+"-"+l+".html"+o;var f=_;e("#topNationalList").html(e("#categotyItemTempl").tmpl(f)),e("#topTeamListWrap").show()}else e("#topTeamListWrap").hide()}e("#topClubList, #topNationalList").trigger("destroy.owl.carousel"),e("#topClubList, #topNationalList").owlCarousel({nav:!0,loop:!1,slideBy:"page",autoPlay:!0,rewind:!1,smartSpeed:70,responsive:{0:{items:1},480:{items:3},600:{items:3},960:{items:3},1200:{items:4},1550:{items:4},1650:{items:4}},navText:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']}),e(".loading-mask").addClass("hide"),e("footer").removeClass("invisibility")},null,function(){e(".loading-mask").addClass("hide"),e("footer").removeClass("invisibility"),e("a").each(function(){var t=e(this).attr("href"),i=r.util.getQueryString("u");if(!(t&&t.indexOf("-l-")>-1||t&&t.indexOf("-d-")>-1||"https://www.tracksorder.online/"==t)){if(t&&t.indexOf("uvid=")<0&&"javascript:void(0)"!==t)if("/"==t)t=t+"?uvid="+r.util.getUvid();else if(t&&t.indexOf("uvid=")<0&&-1==t.indexOf("ssl-checker.html#hostname=")){var a=t.length-"html".length;t=a>=0&&t.lastIndexOf("html")==a?t+"?uvid="+r.util.getUvid():t+"&uvid="+r.util.getUvid()}if(i&&"javascript:void(0)"!==t)if("/"==t)t=t+"?u="+i;else if(t){var a=t.length-"html".length;t=a>=0&&t.lastIndexOf("html")==a?t+"?u="+i:t+"&u="+i}e(this).attr("href",t)}})})}function u(t,i){e("#new_bxslider, #best_bxslider").trigger("destroy.owl.carousel"),e("#new_bxslider, #best_bxslider").owlCarousel({nav:!0,loop:!1,slideBy:"page",autoPlay:!0,rewind:!1,smartSpeed:70,responsive:{0:{items:1},480:{items:3},600:{items:3},960:{items:3},1200:{items:4},1550:{items:4},1650:{items:4}},navText:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']}),e("#new_bxslider li .color-wrap img").bind("click",function(i){p(i,e(this),t)}),e("#best_bxslider li .color-wrap img").bind("click",function(t){p(t,e(this),i)})}function p(e,t,i){e.stopPropagation();var a=t.parent().parent().parent().data().data,l=t.data().data,i=i[a].display_data[l];t.parent().parent().find("img").removeClass("selected"),t.addClass("selected");var r=i.href;t.parent().parent().parent().find("a:first").attr("href",r),t.parent().parent().parent().find("img:first").attr("src",i.img_display),t.parent().parent().parent().find(".price-wrap .goods-price").html(i.current_price),t.parent().parent().parent().find(".price-wrap .goods-del-price").html(i.original_price)}function s(){c()}function c(){r.dao.listImgWall({currentPage:_.curPage,terminal:r.util.isMobile()?"2":"1",currencyId:r.util.getLocalCurrency()},function(t){if(t.page){_.amount=t.page.amount,_.pageSize=t.page.pageSize;var i=0;i=_.amount%_.pageSize==0?parseInt(_.amount/_.pageSize):parseInt(_.amount/_.pageSize)+1,_.totalPage=i}else _.totalPage=0,_.amount=0;0==_.amount?e("#cell_wrap").addClass("hide"):(o.getCellsHtml(m(t.imgs)),o.setCompleteCallback(function(){e("#cell_loading").addClass("hide"),e("#cells img").each(function(){e(this).click(function(){d?e("#cells").viewer("update"):d=e("#cells").viewer({url:"data-original",toolbar:{zoomIn:!1,zoomOut:!1,oneToOne:!1,reset:!1,prev:{show:!0,size:"large"},play:!1,next:{show:!0,size:"large"},rotateLeft:!1,rotateRight:!1,flipHorizontal:!1,flipVertical:!1},navbar:!1,movable:!0,title:!1,transition:!1,button:!1,hide:function(){e("#wall_buy_wrap").addClass("hide")},show:function(){e("#wall_buy_wrap").removeClass("hide")},view:function(t){var i=o.picData[t.detail.index];e("#wall_buy_btn").attr("href",i.aiHref),i.productName?(e("#wall_product_name").html(i.productName),e("#wall_product_price").html(i.curPrice),e("#wall_product_del_price").html(i.orgPrice)):(e("#wall_product_name").html(""),e("#wall_product_price").html(""),e("#wall_product_del_price").html(""))}})})})}),o.init())},null,function(){o.cellHtmlComplete()})}function m(e){for(var t=0;t<e.length;t++){var i=e[t];i.aiName=r.util.imgWallUrl+i.aiName,i&&i.aiHref?i.aiHref=i.aiHref:i.aiHref="javascript:void(0)";var a=r.util.getCurrencySymbol(r.util.getLocalCurrency());i.curPrice=r.util.formatProductPrice(i.curPrice,a),i.orgPrice=r.util.formatProductPrice(i.orgPrice,a)}return e}console.log("home.js");var g="",h="",d=null,_={amount:0,curPage:1,pageSize:0,totalPage:0};r.setCurrencyCodeCallback(function(){n(),sessionStorage.picWallSwitch&&"1"==sessionStorage.picWallSwitch?(e("#cell_wrap").removeClass("hide"),s()):e("#cell_wrap").addClass("hide")}),console.log("common.sessionStorageEnable = "+r.sessionStorageEnable),r.sessionStorageEnable&&r.initLoginStatus(),self!=top&&e(document.body).parent().addClass("overflowY");var f=null});