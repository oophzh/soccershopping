"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","owlCarousel","common","wall","viewer"],function(e,t,i,r,a,l,o,d){function u(){if(!l.util.getLocalCurrency())return void(C=setInterval(function(){u()},500));C&&clearInterval(C),l.dao.homePageProduct({currencyId:l.util.getLocalCurrency()},function(t){var i=l.util.getCurrencySymbol(l.util.getLocalCurrency()),r=l.util.getQueryString("u"),a=l.util.encodeMenuType(l.util.getUvid()),o="";if(r&&(o="?u="+r),y=t.new_arrivals){for(var d=0;d<y.length;d++){for(var u=y[d],c=0;c<u.display_data.length;c++){var p=u.display_data[c];p.original_price=l.util.formatProductPrice(p.original_price,i),p.current_price=l.util.formatProductPrice(p.current_price,i),p.img_display=l.util.picUrl+p.img_display,p.color_img=l.util.picUrl+p.color_img,p.height=l.util.getHomeImageHeight(),p.top=Number(l.util.getHomeImageHeight())-50,p.href=l.util.formatProductName(u.product_name)+"-d-"+l.util.encodeMenuType(u.product_id)+"-"+l.util.encodeMenuType(p.color_id)+"-"+a+".html"+o}u.showColor=sessionStorage.img_block}e("#new_bxslider").html(e("#productItemTempl").tmpl(y)),e("#new_bxslider_wrap").show()}else e("#new_bxslider_wrap").hide();if(v=t.best_sellers){for(var d=0;d<v.length;d++){for(var u=v[d],c=0;c<u.display_data.length;c++){var p=u.display_data[c];p.original_price=l.util.formatProductPrice(p.original_price,i),p.current_price=l.util.formatProductPrice(p.current_price,i),p.img_display=l.util.picUrl+p.img_display,p.color_img=l.util.picUrl+p.color_img,p.height=l.util.getHomeImageHeight(),p.top=Number(l.util.getHomeImageHeight())-50,p.href=l.util.formatProductName(u.product_name)+"-d-"+l.util.encodeMenuType(u.product_id)+"-"+l.util.encodeMenuType(p.color_id)+"-"+a+".html"+o}u.showColor=sessionStorage.img_block}e("#best_bxslider").html(e("#productItemTempl").tmpl(v)),e("#best_bxslider_wrap").show()}else e("#best_bxslider_wrap").hide();if(n(y,v),t.top_club){var s=t.top_club;if(s&&s.length>0){for(var d=0;d<s.length;d++)s[d].menu_icon&&(s[d].menu_icon=l.util.picUrl+s[d].menu_icon),s[d].product&&s[d].product.display_data&&s[d].product.display_data.length>0&&s[d].product.display_data[0].img_display&&(s[d].product.display_data[0].img_display=l.util.picUrl+s[d].product.display_data[0].img_display,s[d].product.display_data[0].height=l.util.getHomeImageHeight(),s[d].product.link=l.util.formatProductName(s[d].product.product_name)+"-d-"+l.util.encodeMenuType(s[d].product.product_id)+"-"+l.util.encodeMenuType(s[d].product.display_data[0].color_id)+"-"+a+".html"+o,s[d].product.top=Number(l.util.getHomeImageHeight())-50),s[d].link=l.util.formatProductName(s[d].menu_name)+"-l-"+l.util.encodeMenuType(s[d].menu_type)+"-"+a+".html"+o;var m=s;e("#topClubList").html(e("#categotyItemTempl").tmpl(m)),e("#topClubListWrap").show()}else e("#topClubListWrap").hide()}if(t.top_team){var g=t.top_team;if(g&&g.length>0){for(var d=0;d<g.length;d++)g[d].menu_icon&&(g[d].menu_icon=l.util.picUrl+g[d].menu_icon),g[d].product&&g[d].product.display_data&&g[d].product.display_data.length>0&&g[d].product.display_data[0].img_display&&(g[d].product.display_data[0].img_display=l.util.picUrl+g[d].product.display_data[0].img_display,g[d].product.display_data[0].height=l.util.getHomeImageHeight(),g[d].product.link=l.util.formatProductName(g[d].product.product_name)+"-d-"+l.util.encodeMenuType(g[d].product.product_id)+"-"+l.util.encodeMenuType(g[d].product.display_data[0].color_id)+"-"+a+".html"+o,g[d].product.top=Number(l.util.getHomeImageHeight())-50),g[d].link=l.util.formatProductName(g[d].menu_name)+"-l-"+l.util.encodeMenuType(g[d].menu_type)+"-"+a+".html"+o;var h=g;e("#topNationalList").html(e("#categotyItemTempl").tmpl(h)),e("#topTeamListWrap").show()}else e("#topTeamListWrap").hide()}e("#topClubList, #topNationalList").trigger("destroy.owl.carousel"),e("#topClubList, #topNationalList").owlCarousel({nav:!0,loop:!1,slideBy:"page",autoPlay:!0,rewind:!1,smartSpeed:70,responsive:{0:{items:1},480:{items:3},600:{items:3},960:{items:3},1200:{items:4},1550:{items:4},1650:{items:4}},navText:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']}),e(".loading-mask").addClass("hide"),e("footer").removeClass("invisibility")},null,function(){e(".loading-mask").addClass("hide"),e("footer").removeClass("invisibility"),e("a").each(function(){var t=e(this).attr("href"),i=l.util.getQueryString("u");if(!(t&&t.indexOf("-l-")>-1||t&&t.indexOf("-d-")>-1||"https://www.tracksorder.online/"==t)){if(t&&t.indexOf("uvid=")<0&&"javascript:void(0)"!==t)if("/"==t)t=t+"?uvid="+l.util.getUvid();else if(t&&t.indexOf("uvid=")<0&&-1==t.indexOf("ssl-checker.html#hostname=")){var r=t.length-"html".length;t=r>=0&&t.lastIndexOf("html")==r?t+"?uvid="+l.util.getUvid():t+"&uvid="+l.util.getUvid()}if(i&&"javascript:void(0)"!==t)if("/"==t)t=t+"?u="+i;else if(t){var r=t.length-"html".length;t=r>=0&&t.lastIndexOf("html")==r?t+"?u="+i:t+"&u="+i}e(this).attr("href",t)}})})}function n(t,i){e("#new_bxslider, #best_bxslider").trigger("destroy.owl.carousel"),e("#new_bxslider, #best_bxslider").owlCarousel({nav:!0,loop:!1,slideBy:"page",autoPlay:!0,rewind:!1,smartSpeed:70,responsive:{0:{items:1},480:{items:3},600:{items:3},960:{items:3},1200:{items:4},1550:{items:4},1650:{items:4}},navText:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']}),e("#new_bxslider li .color-wrap img").bind("click",function(i){c(i,e(this),t)}),e("#best_bxslider li .color-wrap img").bind("click",function(t){c(t,e(this),i)})}function c(e,t,i){e.stopPropagation();var r=t.parent().parent().parent().data().data,a=t.data().data,i=i[r].display_data[a];t.parent().parent().find("img").removeClass("selected"),t.addClass("selected");var l=i.href;t.parent().parent().parent().find("a:first").attr("href",l),t.parent().parent().parent().find("img:first").attr("src",i.img_display),t.parent().parent().parent().find(".price-wrap .goods-price").html(i.current_price),t.parent().parent().parent().find(".price-wrap .goods-del-price").html(i.original_price)}function p(){s()}function s(){l.dao.listImgWall({currentPage:w.curPage,terminal:l.util.isMobile()?"2":"1",currencyId:l.util.getLocalCurrency()},function(t){if(t.page){if(1==w.curPage){w.amount=t.page.amount,w.pageSize=t.page.pageSize;var i=0;i=w.amount%w.pageSize==0?parseInt(w.amount/w.pageSize):parseInt(w.amount/w.pageSize)+1,w.totalPage=i}}else w.totalPage=0,w.amount=0;0==w.amount?e("#pic_wall_list_wrap").addClass("hide"):(e("#pic_wall_list_wrap").removeClass("hide"),o.init(document.getElementById("cells"),document.getElementById("picWallTempl").innerHTML),o.setCompleteCallback(function(){e("#cell_loading").addClass("hide"),g(),w.curPage==w.totalPage&&e("#more_btn").addClass("hide")}),o.loadingData=!0,o.concatData(m(t.imgs)))})}function m(e){for(var t=0;t<e.length;t++){var i=e[t];i.aiName=l.util.imgWallUrl+i.aiName,i&&i.aiHref?i.aiHref=i.aiHref:i.aiHref="javascript:void(0)";var r=l.util.getCurrencySymbol(l.util.getLocalCurrency());i.curPrice=l.util.formatProductPrice(i.curPrice,r),i.orgPrice=l.util.formatProductPrice(i.orgPrice,r)}return e}function g(){e("#cells img").each(function(){e(this).click(function(){d?e("#cells").viewer("update"):d=e("#cells").viewer({url:"data-original",toolbar:{zoomIn:!1,zoomOut:!1,oneToOne:!1,reset:!1,prev:{show:!0,size:"large"},play:!1,next:{show:!0,size:"large"},rotateLeft:!1,rotateRight:!1,flipHorizontal:!1,flipVertical:!1},navbar:!1,movable:!0,title:!1,transition:!1,button:!1,hide:function(){e("#wall_buy_wrap").addClass("hide")},show:function(){e("#wall_buy_wrap").removeClass("hide")},view:function(t){var i=o.picData[t.detail.index];e("#wall_buy_btn").attr("href",i.aiHref),i.productName?(e("#wall_product_name").html(i.productName),e("#wall_product_price").html(i.curPrice),e("#wall_product_del_price").html(i.orgPrice)):(e("#wall_product_name").html(""),e("#wall_product_price").html(""),e("#wall_product_del_price").html(""))}})})})}function h(){l.dao.getCustTempl({place:"1"},function(t){for(var i="",r=0;r<t.length;r++)i+=t[r].content;if(i&&""!=i){e("#customize_product_wrap").html(i);for(var a=_(i,"mhn-slide"),r=0;r<a;r++)e("#customize_product_list_"+r).trigger("destroy.owl.carousel"),e("#customize_product_list_"+r).owlCarousel({nav:!0,loop:!1,slideBy:"page",rewind:!1,smartSpeed:70,responsive:{0:{items:1},480:{items:3},600:{items:3},960:{items:3},1200:{items:4},1550:{items:4},1650:{items:4}},navText:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']});e("#customize_product_wrap").removeClass("hide"),b=[];for(var o=e("#customize_product_wrap").find(".product-item"),r=0;r<o.length;r++){var d=o[r].id,u=d.split("-"),n={productId:l.util.decodeMenuType(u[0]),productColorId:l.util.decodeMenuType(u[1])};b.push(n)}f()}})}function _(e,t){for(var i=0;-1!=e.indexOf(t);)e=e.replace(t,""),i++;return i}function f(){var t=l.util.getCurrencySymbol(l.util.getLocalCurrency());l.dao.getPriceByPrdColor({inputParams:JSON.stringify({currencyId:l.util.getLocalCurrency(),colors:b})},function(i){for(var r=i,a=0;a<r.length;a++)r[a].id=l.util.encodeMenuType(r[a].productId)+"-"+l.util.encodeMenuType(r[a].productColorId),e("#customize_product_wrap").find('.product-item[id="'+r[a].id+'"] .goods-price').html(l.util.formatProductPrice(r[a].curPrice,t)),e("#customize_product_wrap").find('.product-item[id="'+r[a].id+'"] .goods-del-price').html(l.util.formatProductPrice(r[a].orgPrice,t))})}console.log("home.js");var y="",v="",d=null,w={amount:0,curPage:1,pageSize:0,totalPage:0},b=[];l.setCurrencyCodeCallback(function(){u(),sessionStorage.picWallSwitch&&"1"==sessionStorage.picWallSwitch?(e("#cell_wrap").removeClass("hide"),p()):e("#cell_wrap").addClass("hide"),h()}),console.log("common.sessionStorageEnable = "+l.sessionStorageEnable),l.sessionStorageEnable&&l.initLoginStatus(),self!=top&&e(document.body).parent().addClass("overflowY");var C=null});