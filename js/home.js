"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","owlCarousel","common","wall"],function(e,t,i,r,o,a,l){function d(e){var t,i=a.statistic.getPerformanceTiming();t=i?{page:"/imgwall?cp="+e,t_leaving:i.startTime,t_ldpage:i.loadPage,t_enter:i.startTime,uvid:a.util.getUvid(),ctryCode:a.util.getCookie("current_country"),referer:document.referrer}:{page:"/imgwall?cp="+e,t_leaving:(new Date).getTime(),t_ldpage:(new Date).getTime(),t_enter:(new Date).getTime(),uvid:a.util.getUvid(),ctryCode:a.util.getCookie("current_country"),referer:document.referrer},a.dao.statistic(t,function(){})}function c(){a.dao.getCustTempl({place:"1"},function(e){localStorage.customizeHtml||u(e),localStorage.customizeHtmlTime=(new Date).getTime(),localStorage.customizeHtml=JSON.stringify(e)})}function u(t){for(var i="",r=0;r<t.length;r++)i+=t[r].content;if(i&&""!=i){e("#customize_product_wrap").html(i),e("#customize_product_wrap img.lazy").lazyload({effect:"fadeIn",placeholder:null});for(var o=n(i,"mhn-slide"),r=0;r<o;r++)e("#customize_product_list_"+r).trigger("destroy.owl.carousel"),e("#customize_product_list_"+r).owlCarousel({nav:!0,loop:!1,slideBy:"page",rewind:!1,smartSpeed:70,responsive:{0:{items:1},480:{items:3},600:{items:3},960:{items:3},1200:{items:4},1550:{items:4},1650:{items:4}},navText:a.util.isMobile()?['<svg viewBox="0 0 24 24" style="width:80px;height:80px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:80px;height:80px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>'],lazyLoad:!0});e("#customize_product_wrap").removeClass("hide"),g=[];for(var l=e("#customize_product_wrap").find(".product-item"),r=0;r<l.length;r++){var d=l[r].id,c=d.split("-"),u={productId:a.util.decodeMenuType(c[0]),productColorId:a.util.decodeMenuType(c[1])};g.push(u)}s()}}function n(e,t){for(var i=0;-1!=e.indexOf(t);)e=e.replace(t,""),i++;return i}function s(){var t=a.util.getCurrencySymbol(a.util.getLocalCurrency());a.dao.getPriceByPrdColor({inputParams:JSON.stringify({currencyId:a.util.getLocalCurrency(),colors:g})},function(i){for(var r=i,o=0;o<r.length;o++){r[o].id=a.util.encodeMenuType(r[o].productId)+"-"+a.util.encodeMenuType(r[o].productColorId),e("#customize_product_wrap").find('.product-item[id="'+r[o].id+'"] .goods-price').html(a.util.formatProductPrice(r[o].curPrice,t)),e("#customize_product_wrap").find('.product-item[id="'+r[o].id+'"] .goods-del-price').html(a.util.formatProductPrice(r[o].orgPrice,t));var l=a.util.getHomeImageHeight();e("#customize_product_wrap").find(".product-item .image-wrap").attr("style","height: "+l+"px;line-height: "+l+"px;")}})}console.log("home.js");var g=[];!function(){e("#wall_buy_btn").bind("click",function(t){e(this).data("data")&&d(e(this).data("data")),window.location.href=e(this).data("href")})}(),a.setCurrencyCodeCallback(function(){if(e(".loading-mask").addClass("hide"),e("footer").removeClass("invisibility"),localStorage.customizeHtml){u(JSON.parse(localStorage.customizeHtml));var t=localStorage.customizeHtmlTime;(new Date).getTime()-t>864e5&&c()}else c()}),a.sessionStorageEnable&&a.initLoginStatus(),self!=top&&e(document.body).parent().addClass("overflowY")});