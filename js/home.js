"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","owlCarousel","common","wall","viewer"],function(e,t,i,a,l,r,o,n){function d(){if(!r.util.getLocalCurrency())return void(f=setInterval(function(){d()},500));f&&clearInterval(f),r.dao.homePageProduct({currencyId:r.util.getLocalCurrency()},function(t){var i=r.util.getCurrencySymbol(r.util.getLocalCurrency()),a=r.util.getQueryString("u"),l=r.util.encodeMenuType(r.util.getUvid()),o="";if(a&&(o="?u="+a),m=t.new_arrivals){for(var n=0;n<m.length;n++){for(var d=m[n],u=0;u<d.display_data.length;u++){var p=d.display_data[u];p.original_price=r.util.formatProductPrice(p.original_price,i),p.current_price=r.util.formatProductPrice(p.current_price,i),p.img_display=r.util.picUrl+p.img_display,p.color_img=r.util.picUrl+p.color_img,p.height=r.util.getHomeImageHeight(),p.href=r.util.formatProductName(d.product_name)+"-d-"+r.util.encodeMenuType(d.product_id)+"-"+r.util.encodeMenuType(p.color_id)+"-"+l+".html"+o}d.showColor=sessionStorage.img_block}e("#new_bxslider").html(e("#productItemTempl").tmpl(m)),e("#new_bxslider_wrap").show()}else e("#new_bxslider_wrap").hide();if(g=t.best_sellers){for(var n=0;n<g.length;n++){for(var d=g[n],u=0;u<d.display_data.length;u++){var p=d.display_data[u];p.original_price=r.util.formatProductPrice(p.original_price,i),p.current_price=r.util.formatProductPrice(p.current_price,i),p.img_display=r.util.picUrl+p.img_display,p.color_img=r.util.picUrl+p.color_img,p.height=r.util.getHomeImageHeight(),p.href=r.util.formatProductName(d.product_name)+"-d-"+r.util.encodeMenuType(d.product_id)+"-"+r.util.encodeMenuType(p.color_id)+"-"+l+".html"+o}d.showColor=sessionStorage.img_block}e("#best_bxslider").html(e("#productItemTempl").tmpl(g)),e("#best_bxslider_wrap").show()}else e("#best_bxslider_wrap").hide();if(s(m,g),t.top_club){var c=t.top_club;if(c&&c.length>0){for(var n=0;n<c.length;n++)c[n].menu_icon&&(c[n].menu_icon=r.util.picUrl+c[n].menu_icon),c[n].product&&c[n].product.display_data&&c[n].product.display_data.length>0&&c[n].product.display_data[0].img_display&&(c[n].product.display_data[0].img_display=r.util.picUrl+c[n].product.display_data[0].img_display,c[n].product.display_data[0].height=r.util.getHomeImageHeight(),c[n].product.link=r.util.formatProductName(c[n].product.product_name)+"-d-"+r.util.encodeMenuType(c[n].product.product_id)+"-"+r.util.encodeMenuType(c[n].product.display_data[0].color_id)+"-"+l+".html"+o),c[n].link=r.util.formatProductName(c[n].menu_name)+"-l-"+r.util.encodeMenuType(c[n].menu_type)+"-"+l+".html"+o;var h=c;e("#topClubList").html(e("#categotyItemTempl").tmpl(h)),e("#topClubListWrap").show()}else e("#topClubListWrap").hide()}if(t.top_team){var f=t.top_team;if(f&&f.length>0){for(var n=0;n<f.length;n++)f[n].menu_icon&&(f[n].menu_icon=r.util.picUrl+f[n].menu_icon),f[n].product&&f[n].product.display_data&&f[n].product.display_data.length>0&&f[n].product.display_data[0].img_display&&(f[n].product.display_data[0].img_display=r.util.picUrl+f[n].product.display_data[0].img_display,f[n].product.display_data[0].height=r.util.getHomeImageHeight(),f[n].product.link=r.util.formatProductName(f[n].product.product_name)+"-d-"+r.util.encodeMenuType(f[n].product.product_id)+"-"+r.util.encodeMenuType(f[n].product.display_data[0].color_id)+"-"+l+".html"+o),f[n].link=r.util.formatProductName(f[n].menu_name)+"-l-"+r.util.encodeMenuType(f[n].menu_type)+"-"+l+".html"+o;var _=f;e("#topNationalList").html(e("#categotyItemTempl").tmpl(_)),e("#topTeamListWrap").show()}else e("#topTeamListWrap").hide()}e("#topClubList, #topNationalList").trigger("destroy.owl.carousel"),e("#topClubList, #topNationalList").owlCarousel({nav:!0,loop:!1,slideBy:"page",autoPlay:!0,rewind:!1,smartSpeed:70,responsive:{0:{items:1},480:{items:3},600:{items:3},960:{items:3},1200:{items:4},1550:{items:4},1650:{items:4}},navText:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']}),e(".loading-mask").addClass("hide"),e("footer").removeClass("invisibility")},null,function(){e(".loading-mask").addClass("hide"),e("footer").removeClass("invisibility"),e("a").each(function(){var t=e(this).attr("href"),i=r.util.getQueryString("u");if(!(t&&t.indexOf("-l-")>-1||t&&t.indexOf("-d-")>-1||"https://www.tracksorder.online/"==t)){if(t&&t.indexOf("uvid=")<0&&"javascript:void(0)"!==t)if("/"==t)t=t+"?uvid="+r.util.getUvid();else if(t&&t.indexOf("uvid=")<0&&-1==t.indexOf("ssl-checker.html#hostname=")){var a=t.length-"html".length;t=a>=0&&t.lastIndexOf("html")==a?t+"?uvid="+r.util.getUvid():t+"&uvid="+r.util.getUvid()}if(i&&"javascript:void(0)"!==t)if("/"==t)t=t+"?u="+i;else if(t){var a=t.length-"html".length;t=a>=0&&t.lastIndexOf("html")==a?t+"?u="+i:t+"&u="+i}e(this).attr("href",t)}})})}function s(t,i){e("#new_bxslider, #best_bxslider").trigger("destroy.owl.carousel"),e("#new_bxslider, #best_bxslider").owlCarousel({nav:!0,loop:!1,slideBy:"page",autoPlay:!0,rewind:!1,smartSpeed:70,responsive:{0:{items:1},480:{items:3},600:{items:3},960:{items:3},1200:{items:4},1550:{items:4},1650:{items:4}},navText:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']}),e("#new_bxslider li .color-wrap img").bind("click",function(i){u(i,e(this),t)}),e("#best_bxslider li .color-wrap img").bind("click",function(t){u(t,e(this),i)})}function u(e,t,i){e.stopPropagation();var a=t.parent().parent().parent().data().data,l=t.data().data,i=i[a].display_data[l];t.parent().parent().find("img").removeClass("selected"),t.addClass("selected");var r=i.href;t.parent().parent().parent().find("a:first").attr("href",r),t.parent().parent().parent().find("img:first").attr("src",i.img_display),t.parent().parent().parent().find(".price-wrap .goods-price").html(i.current_price),t.parent().parent().parent().find(".price-wrap .goods-del-price").html(i.original_price)}function p(){c()}function c(){r.dao.listImgWall({currentPage:h.curPage},function(t){if(t.page){h.amount=t.page.amount,h.pageSize=t.page.pageSize;var i=0;i=h.amount%h.pageSize==0?parseInt(h.amount/h.pageSize):parseInt(h.amount/h.pageSize)+1,h.totalPage=i}else h.totalPage=0,h.amount=0;0==h.amount?e("#cell_wrap").addClass("hide"):(o.setDataCallback(function(){r.dao.listImgWall({currentPage:h.curPage},function(t){for(var i=t.imgs,a=0;a<i.length;a++){var l=i[a];l.aiName=r.util.imgWallUrl+l.aiName,l&&l.aiHref?l.aiHref=l.aiHref:l.aiHref="javascript:void(0)"}o.getCellsHtml(i),h.curPage==h.totalPage&&(e("#more_btn").addClass("hide"),o.setDataCallback(null)),h.curPage=h.curPage+1},null,function(){o.cellHtmlComplete()})}),o.setCompleteCallback(function(){e("#cell_loading").addClass("hide"),e("#cells img").each(function(){e(this).click(function(){n?e("#cells").viewer("update"):n=e("#cells").viewer({url:"data-original",toolbar:{zoomIn:!1,zoomOut:!1,oneToOne:!1,reset:!1,prev:{show:!0,size:"large"},play:!1,next:{show:!0,size:"large"},rotateLeft:!1,rotateRight:!1,flipHorizontal:!1,flipVertical:!1},navbar:!1,movable:!0,title:!1,transition:!1,button:!1,hide:function(){e("#wall_buy_wrap").addClass("hide")},show:function(){e("#wall_buy_wrap").removeClass("hide")},view:function(t){var i=o.picData[t.detail.index];e("#wall_buy_btn").attr("href",i.aiHref)}})})})}),o.init(),e("#more_btn").click(function(){e("#cell_loading").removeClass("hide"),o.manageCells()}))})}console.log("home.js");var m="",g="",n=null,h={amount:0,curPage:1,pageSize:0,totalPage:0};r.setCurrencyCodeCallback(function(){d(),sessionStorage.picWallSwitch&&"1"==sessionStorage.picWallSwitch?(e("#cell_wrap").removeClass("hide"),p()):e("#cell_wrap").addClass("hide")}),console.log("common.sessionStorageEnable = "+r.sessionStorageEnable),r.sessionStorageEnable&&r.initLoginStatus(),self!=top&&e(document.body).parent().addClass("overflowY");var f=null});