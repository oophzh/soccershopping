"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","common","star","viewer","wall"],function(t,e,i,a,o,r,s,n){function l(){t("#play_btn").removeClass("hide"),t("#play_btn").click(function(){if(G){t("#iframe_loading").removeClass("hide"),t("#video").addClass("hide"),t("#video").attr("src",G);document.getElementById("video").onload=function(){t("#iframe_loading").addClass("hide"),t("#video").removeClass("hide")}}t("#video_mask").removeClass("hide"),t("#video_mask #close_video_btn").click(function(){t("#video").attr("src",""),t("#video_mask").addClass("hide")})})}function c(){t("#custom_confirm_btn").unbind("click").click(function(){u(2)}),t("#custom_wrap_mask #close_btn, #custom_wrap_mask #custom_cancel_btn").unbind("click").click(function(){b()})}function d(e){var i=[];if(1==e){var a=Number(t("#qty_list").val())<=10?Number(t("#qty_list").val()):Number(t("#number_input").val());if(a<=0)return void alert(t.i18n.map.QuantityIsNull);for(var r={userId:o.util.getUserId(),productName:A.productName,productImage:A.productImage,productId:A.productId,productColorId:A.productColorId,productNum:a,attrOpts:[],attrString:""},s=null,n=0;n<j.color_data[0].dyn_attrs.length;n++){var l={},c=j.color_data[0].dyn_attrs[n];s=null==s?c.attr_name+": "+t("#"+T(c.attr_name)+"_list").find("option:selected").text():s+","+c.attr_name+": "+t("#"+T(c.attr_name)+"_list").find("option:selected").text(),l.attrType=c.attrID,l.attrOptId=t("#"+T(c.attr_name)+"_list").val(),r.attrOpts.push(l)}r.attrString=s,i.push(JSON.parse(JSON.stringify(r)))}else if(2==e)for(var r={userId:o.util.getUserId(),productId:A.productId,productColorId:A.productColorId,productNum:1,attrOpts:[{attrType:"",attrOptId:""}]},n=0;n<H.length;n++){var d=H[n],u=t("#"+d.optId+"_number_list").val();console.log(u),"11"==u&&((u=t("#"+d.optId+"_number_list").parent().find("input").val())||(u=0)),u>0&&(r.productNum=u,r.attrOpts=[{attrType:d.attrType,attrOptId:d.optId}],i.push(JSON.parse(JSON.stringify(r))))}return i}function u(e){var i=null;if(null==(i=R?g(e):d(e))||0==i.length)return void b();t("#product_name").html(i[0].productName),t("#product_attr").html(i[0].attrString),t("#product_image").attr("src",i[0].productImage),o.util.checkIsLogin()?m(i):p(i)}function m(e){o.dao.merge2cart({inputParams:JSON.stringify(e)},function(){P();var i=Number(t("#cart_product_number").text());t("#cart_product_number").text(i+e.length),b()},function(t){b(),alert(t.msg)})}function p(e){var i=localStorage.productList;if(i=i?JSON.parse(i):[],0==i.length)i=e;else for(var a=0;a<e.length;a++){for(var o=e[a],r=!1,s=JSON.stringify(o.attrOpts),n=0;n<i.length;n++){var l=i[n];o.productId==l.productId&&o.productColorId==l.productColorId&&s==JSON.stringify(l.attrOpts)&&(l.productNum=l.productNum+o.productNum,r=!0)}r||i.push(o)}localStorage.productList=JSON.stringify(i);for(var c=0,n=0;n<i.length;n++)c=parseInt(c)+parseInt(i[n].productNum);t("#cart_product_number").html(c),t("#cart_product_number").show(),P(),b()}function _(t){for(var e=0;e<t.length;e++)for(var i=t[e],a=JSON.stringify(i.attrOpts),o=e+1;o<t.length;o++){var r=t[o];a==JSON.stringify(r.attrOpts)&&(i.productNum=i.productNum+r.productNum,t.splice(o,1),o-=1)}return t}function g(e){var i=[];if(1==e){var a=Number(t("#qty_list").val())<=10?Number(t("#qty_list").val()):Number(t("#number_input").val());if(a<=0)return void alert(t.i18n.map.QuantityIsNull);for(var r={userId:o.util.getUserId(),productId:A.productId,productName:A.productName,productImage:A.productImage,productColorId:A.productColorId,productNum:a,attrOpts:[],attrString:""},s=null,n=0;n<j.color_data[0].dyn_attrs.length;n++){var l={},c=j.color_data[0].dyn_attrs[n];"2"==c.attrID?(l.attrType=c.attrID,l.attrOptId=t("#"+c.attr_name_id+"_list").val(),s=null==s?c.attr_name+": "+t("#"+c.attr_name_id+"_list").find("option:selected").text():s+","+c.attr_name+": "+t("#"+c.attr_name_id+"_list").find("option:selected").text()):(l.attrType=c.attrID,l.attrOptId=c.input_cmp.optId,"3"==c.attrID?(l.custominfo=t("#print_number_input").val(),l.custominfo&&(s=null==s?c.attr_name+": "+l.custominfo:s+","+c.attr_name+": "+l.custominfo)):"4"==c.attrID?(l.custominfo=t("#print_name_input").val(),l.custominfo&&(s=null==s?c.attr_name+": "+l.custominfo:s+","+c.attr_name+": "+l.custominfo)):s=null==s?c.attr_name+": "+t("#"+c.attr_name_id+"_list").find("option:selected").text():s+","+c.attr_name+": "+t("#"+c.attr_name_id+"_list").find("option:selected").text()),r.attrOpts.push(l)}r.attrString=s,i.push(JSON.parse(JSON.stringify(r)))}else if(2==e){var r={userId:o.util.getUserId(),productId:A.productId,productColorId:A.productColorId,productNum:1,attrOpts:[{attrType:"",attrOptId:"",custominfo:""}]};if(F&&F.length>0)for(var n=0;n<F.length;n++)for(var d=F[n],u=0;u<d.customs.length;u++){for(var l=[{attrType:d.attrType,attrOptId:d.optId}],m=d.customs[u].attrs,p=0;p<m.length;p++){var g=m[p],h=t("#print_input_"+d.optId+"_"+g.attrID+"_"+g.position).val();l.push({attrType:g.attrID,attrOptId:g.input_cmp.optId,custominfo:h})}r.attrOpts=l,i.push(JSON.parse(JSON.stringify(r)))}}return _(i)}function h(){H&&H.length>0&&(t("#size_list").html(t("#customSizeItem").tmpl(H)),t("#size_list select option[value=11]").html(t.i18n.map.MoreNumber),w(!1),t("#size_list select").change(function(){console.log("#size_list select value = "+t(this).val()),"11"==t(this).val()?(t(this).hide(),t(this).parent().find("input").show()):w(!0)}),t("#size_list input").blur(function(){console.log("#size_list input");var e=t(this).val();if(console.log("#size_list input number = "+e),e&&e<=10){var i=t(this).parent().find("select")[0].id;t("#"+i.substring(i.indexOf("_")+1)+" option[value="+e+"]").prop("selected","selected")}else if(e&&e>10){var i=t(this).parent().find("select")[0].id,a="#"+i.substring(i.indexOf("_")+1);t(a).hide(),t(a).parent().find("input").show(),t(a).parent().find("input").val(e)}w(!0)})),c()}function f(){h(),t("#custom_wrap_mask").removeClass("hide"),t("body").css("overflow","hidden")}function v(e){for(var i=[],a=0;a<H.length;a++){var o=H[a],r=t("#custom_"+o.optId+"_number_list").val();if(Number(r)>10&&(r=t("#"+o.optId+"_number_input").val()),e||!o.number?o.number=r:Number(o.number)>Number(r)&&(r=o.number),Number(r)<=10?t("#custom_"+o.optId+"_number_list option[value="+r+"]").prop("selected","selected"):(t("#custom_"+o.optId+"_number_list").hide(),t("#custom_"+o.optId+"_number_list").parent().find("input").show(),t("#custom_"+o.optId+"_number_list").parent().find("input").val(r)),o.customs=[],r>0){for(var s=0;s<r;s++){for(var n=0;n<Q.length;n++){Q[n].position=s;var l=t("#print_input_"+o.optId+"_"+Q[n].attrID+"_"+Q[n].position).val();Q[n].custominfo=l}o.customs.push(JSON.parse(JSON.stringify({attrs:Q})))}i.push(o)}}return i}function b(){t("#custom_wrap_mask").addClass("hide"),t("body").css("overflow","auto")}function I(e){console.log("initProductImage midimg setImage"),t("#vertical img:first").attr("src",e[0].big_img),-1==E.indexOf(e[0].big_img)&&t("#imageLoading").removeClass("hide"),t("#product_image_wrap").html(t("#productImageTempl").tmpl(e)),s?t("#product_image_wrap").viewer("update"):s=t("#product_image_wrap").viewer({url:"data-original",toolbar:{zoomIn:!1,zoomOut:!1,oneToOne:!1,reset:!1,prev:{show:!0,size:"large"},play:!1,next:{show:!0,size:"large"},rotateLeft:!1,rotateRight:!1,flipHorizontal:!1,flipVertical:!1},navbar:!1,movable:!0,title:!1,transition:!1,button:!1}),"1"==sessionStorage.detail_image_style&&(t(".panel .panel-body .product-image-wrap .product-image").css("width","100%"),t(".panel .panel-body .product-image-wrap .product-image").css("text-align","center"))}function y(e){1==e.length?(A.productColorId=e[0].color_id,A.productName=e[0].pcName,A.productImage=e[0].img_groups[0].small_img,U(e[0].isattention)):(t("#color_data_wrap").removeClass("hide"),t("#color_list").html(t("#colorItem").tmpl(e)),t(t("#color_list li")[q]).find("span").css("display","block"),t(t("#color_list li")[q]).find("img").addClass("selected-image-border"),t("#color_desc").html(e[q].color_des),A.productColorId=e[q].color_id,A.productName=e[q].pcName,A.productImage=e[q].img_groups[0].small_img,U(e[q].isattention),t("#color_list li").bind("click",function(){if("none"==t(this).find("span").css("display")){t("#color_list li").find("span").css("display","none"),t("#color_list li").find("img").removeClass("selected-image-border"),t(this).find("span").css("display","block"),t(this).find("img").addClass("selected-image-border");var i=t(this).data().data;t("#color_desc").html(e[i].color_des),t("#name").html(e[i].pcName),t("#product_ext_name").html(e[i].pcNameExt),t("#current_price").html(e[i].current_price),t("#original_price").html(e[i].original_price),t("#price_off").html(e[i].disCount+"%"),A.productColorId=e[i].color_id,A.productName=e[i].pcName,A.productImage=e[i].img_groups[0].small_img,U(e[i].isattention),G=e[i].videos&&e[i].videos.length>0?e[i].videos[0].path:null,I(e[i].img_groups),C(e[i].dyn_attrs)}}))}function C(e,i){R=!1,Q=[],H=[],t("#customBtn").addClass("hide"),t("#attr_name_hint").html(t.i18n.map.PrintNameHint),t("#attr_number_hint").html(t.i18n.map.PrintNumberHint);for(var a=o.util.getCurrencySymbol(o.util.getLocalCurrency()),r=0;r<e.length;r++){var s=e[r];if(s.domain_list&&s.domain_list.length>0&&(t("#"+s.attr_name+"_content").html(s.domain_list[0]),s.selectedAttr=s.domain_list[0].optId,s.attr_name_id=T(s.attr_name),"2"==s.attrID))for(var n=0;n<s.domain_list.length;n++){var l=s.domain_list[n];l.attrType=s.attrID,H.push(l)}s.input_cmp&&(Q.push(s),R=!0,t("#customBtn").removeClass("hide")),"3"==s.attrID&&(t("#print_number_price").html("+"+o.util.formatProductPrice(s.input_cmp.price,a)),t("#detail_print_number_price").html("+"+o.util.formatProductPrice(s.input_cmp.price,a))),"4"==s.attrID&&(t("#print_name_price").html("+"+o.util.formatProductPrice(s.input_cmp.price,a)),t("#detail_print_name_price").html("+"+o.util.formatProductPrice(s.input_cmp.price,a)))}t("#dyn_attrs_list").html(t("#dynAttrsItem").tmpl(e)),t("#size_guide").html(t.i18n.map.SizeGuide);var c=host+"/"+o.util.getDomainName();o.isLoadTest&&(c="https://cdn.jsdelivr.net/gh/oophzh/soccershopping/merreventa"),t("#size_guide_image").attr("src",c+"/size-guide-img.jpg"),R?t("#print_number_input")[0]||(t("#custom_wrap").removeClass("hide"),t("#custom_type_list").val(0),t("#custom_attrs_list").hide(),t("#custom_attrs_list").html(t("#customAttrsItem").tmpl(Q))):t("#custom_wrap").addClass("hide"),t("#dyn_attrs_list select").change(function(){console.log("#dyn_attrs_list select value = "+t(this).val()),"11"==t(this).val()&&(t(this).hide(),t(this).parent().find("input").show())}),t("#dyn_attrs_list input").blur(function(){var e=t(this).val();if(e<=10){var i=t(this).parent().find("select")[0].id;t("#custom_"+i+" option[value="+e+"]").prop("selected","selected")}else{var i=t(this).parent().find("select")[0].id,a="#"+i;t(a).hide(),t(a).parent().find("input").show(),t(a).parent().find("input").val(e)}}),t("#size_guide").click(function(){t("#size_guide_mask").removeClass("hide"),t("body").css("overflow","hidden")}),t("#size_guide_mask #close_size_guide_btn").click(function(){t("#size_guide_mask").addClass("hide"),t("body").css("overflow","auto")})}function w(e){F=v(e),t("#custome_attr_list").html(""),t("#custome_attr_list").html(t("#customAttrItem").tmpl(F))}function k(){o.dao.productDetail({productId:B,currencyId:o.util.getLocalCurrency(),userId:o.util.getUserId()},function(e){if(e.product_id){j=e;var i=e;A.productId=j.product_id;for(var a=o.util.getCurrencySymbol(o.util.getLocalCurrency()),r=0;r<i.color_data.length;r++){var s=i.color_data[r];s.original_price=o.util.formatProductPrice(s.original_price,a),s.current_price=o.util.formatProductPrice(s.current_price,a),s.img_display=o.util.picUrl+s.img_display,s.color_img=o.util.picUrl+s.color_img,s.width=200,s.height=200;for(var n=0;n<s.img_groups.length;n++){var l=s.img_groups[n];l.small_img=o.util.picUrl+l.small_img,l.big_img=o.util.picUrl+l.big_img}}var c="en";localStorage.selectedLanguage&&(c=JSON.parse(localStorage.selectedLanguage).langCode),i.product_des&&"en"==c?t(".description").html(i.product_des):(t("#product_image_wrap").css("border-top","none"),t("#product_image_wrap").css("margin-top","0"),t("#product_image_wrap").css("padding-top","0")),document.title=i.product_name;for(var r=0;r<i.color_data.length;r++)if(M==i.color_data[r].color_id){q=r;break}if(G=i.color_data[q].videos&&i.color_data[q].videos.length>0?i.color_data[q].videos[0].path:null,I(i.color_data[q].img_groups),t("#name").html(i.color_data[q].pcName),t("#product_ext_name").html(i.color_data[q].pcNameExt),t("#current_price").html(i.color_data[q].current_price),t("#original_price").html(i.color_data[q].original_price),t("#price_off").html(i.color_data[q].disCount+"%"),"0"==i.color_data[q].isFreeShipping)if(i.advtxts&&i.advtxts.length>0){for(var d="",r=0;r<i.advtxts.length;r++)d=d+i.advtxts[r]+"<br>";t("#shipping_info").html(d),t("#shipping_info").parent().parent().show()}else t("#shipping_info").parent().parent().hide();else"1"==i.color_data[q].isFreeShipping?t("#shipping_info").html(t.i18n.map.FreeshippingHint):t("#shipping_info").parent().parent().hide();sessionStorage.s_fm_bg&&t("#shipping_info").css("background",sessionStorage.s_fm_bg),sessionStorage.s_fm_fc&&t("#shipping_info").css("color",sessionStorage.s_fm_fc),t("#price_wrap").css("display","block"),M||(M=i.color_data[q].color_id),y(i.color_data),C(i.color_data[q].dyn_attrs),x(i.product_type),o.util.menu=[],o.util.getClassifyNames(i.product_type,function(){N()}),S(),t("#print_wrap").show()}})}function N(){if(o.util.menu&&o.util.menu.length>0){var e=o.util.getAdvSource().u;e||(e=o.util.getQueryString("u"));var i="";e&&(i="?u="+e);var a=o.util.menu.reverse();a.push({menu_name:document.title});for(var r="<li><a id='breadcrumb_home' href='/'>"+t.i18n.map.Home+"</a></li>",s=0;s<a.length;s++)if(s!==a.length-1){var n=o.util.formatProductName(a[s].menu_name)+"-l-"+o.util.encodeMenuType(a[s].menu_type)+"-"+o.util.encodeMenuType(o.util.getUvid())+".html"+i;"1"==a[s].supportgp&&(n=o.util.formatProductName(a[s].menu_name)+"-g-"+o.util.encodeMenuType(a[s].menu_type)+"-"+o.util.encodeMenuType(o.util.getUvid())+".html"+i),r=r+"<li><a href='"+n+"'>"+a[s].menu_name+"</a></li>"}t(".breadcrumb").html(r)}}function S(){var t=localStorage.currentBrowseList;t=t?JSON.parse(t):[];for(var e=0;e<t.length;e++){var i=t[e];if(i.productId===B&&i.productColorId===M){t.splice(e,1);break}}var a={productId:B,productColorId:M};t.push(a),t.length>30&&(t=t.splice(1,t.length-1)),localStorage.setItem("currentBrowseList",JSON.stringify(t))}function x(e){o.dao.productsRel({menuType:e,productId:B,productColorId:A.productColorId},function(e){var i=o.util.getAdvSource().u;i||(i=o.util.getQueryString("u"));var a="";i&&(a="?u="+i);for(var r=o.util.encodeMenuType(o.util.getUvid()),s=0;s<e.length;s++){var n=e[s];n.imgDisplay=o.util.picUrl+n.imgDisplay;var l=o.util.formatProductName(n.prdName)+"-d-"+o.util.encodeMenuType(n.productId)+"-"+o.util.encodeMenuType(n.productColorId)+"-"+r+".html"+a;n.detailUrl=l}t("#peripheral_products_list").html(t("#peripheralProductListTempl").tmpl(e))})}function O(){t("#waitting_icon").removeClass("hide"),t("#success_icon").addClass("hide"),t("#success_text").addClass("hide"),t("#add_to_cart_success_mask").removeClass("hide"),t("body").css("overflow","hidden")}function P(){t("#waitting_icon").addClass("hide"),t("#success_icon").removeClass("hide"),t("#success_text").removeClass("hide")}function z(){t("#add_to_cart_success_mask").addClass("hide"),t("body").css("overflow","auto")}function T(t){return t?t=t.replace(new RegExp(" ","gm"),"_"):t}function L(){o.dao.getCommentsByPrd({currentPage:V.curPage,productId:B},function(e){if(e.page&&(V.amount=e.page.amount,V.pageSize=e.page.pageSize),e&&e.comments.length>0){for(var i=e.comments,a=0;a<i.length;a++){var r=i[a];r.crtime=o.util.formatOrderDateTime(r.crtime),r.usrico&&(r.usrImage=o.util.userIconUrl+r.usrico,r.usrErrorImage='javascript:this.src="resources/img/user/'+r.usrico+'";');for(var s=0;s<r.zps.length;s++){var n=r.zps[s];n.crtime=o.util.formatOrderDateTime(n.crtime);for(var l=0;l<n.shareimgs.length;l++)n.shareimgs[l]=o.util.commentPicUrl+n.shareimgs[l]}for(var s=0;s<r.shareimgs.length;s++)r.shareimgs[s]=o.util.commentPicUrl+r.shareimgs[s]}t("#comment_list").html(t("#commentItemTempl").tmpl(i)),t("#comment_list #color_title").html(t.i18n.map.ColorTitle),t("#comment_list .reply-text").html(t.i18n.map.DetailCommentReply),t(".empty-data").addClass("hide"),t("#comment_list .comment-item-wrap input").each(function(){t(this).rating({step:1,size:"xs",showClear:!1,min:0,max:5,disabled:!0,showCaption:!1}).rating("showStars",t(this).data().data)}),t("#comment_list .image-wrap img").each(function(){t(this).click(function(){t(this).parent().find("img").removeClass("selected"),t(this).addClass("selected");var e=t(this).data().data,i=t(this).parent().parent().find(".big-image-wrap");if(0==i.find(".owl-item").length){for(var a=i.data().data,o=a.split(","),r=[],s=0;s<o.length;s++){var n=o[s];r.push(n)}t("#commentBigImageTempl").tmpl(r).appendTo(i[0]),i.owlCarousel({nav:!0,loop:!1,slideBy:"1",autoPlay:!1,rewind:!1,smartSpeed:70,items:1,dots:!1,startPosition:e,navText:['<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" style="fill: #f1f1f1;"></path></svg>','<svg viewBox="0 0 24 24" style="width:40px;height:40px;background: rgba(0,0,0,0.3);border-radius: 50%;"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z" style="fill: #f1f1f1;"></path></svg>']}),i.removeClass("hide"),i.find(".owl-item img").click(function(){i.addClass("hide")})}else i.trigger("to.owl.carousel",[e]),i.removeClass("hide")})})}else t(".empty-data").removeClass("hide")})}function U(e){o.util.checkIsLogin()&&("1"==e?(t("#add_fav").addClass("selected"),t("#add_fav").removeClass("icon-heart "),t("#add_fav").addClass("icon-aixin")):t("#add_fav").removeClass("selected")),t("#add_fav").removeClass("hide"),t("#btn_wrap").removeClass("hide"),t("#addFavBtn").unbind("click").click(function(){o.util.checkIsLogin()?o.dao.attentionProduct({userId:o.util.getUserId(),productId:A.productId,colorId:A.productColorId,type:t("#add_fav").hasClass("selected")?"2":"1"},function(){t("#add_fav").hasClass("selected")?(t("#add_fav").removeClass("selected"),t("#add_fav").removeClass("icon-aixin"),t("#add_fav").addClass("icon-heart ")):(t("#add_fav").removeClass("icon-heart"),t("#add_fav").addClass("selected"),t("#add_fav").addClass("icon-aixin"))}):window.location.href="../../../login.html?uvid="+o.util.getUvid()})}console.log("detail.js");var D=window.location.href,J=o.util.getDetailParams(D),B=o.util.decodeMenuType(J[J.length-3]),M=o.util.decodeMenuType(J[J.length-2]),q=0,j={},A={productId:"",productColorId:""},E=[],H=[],F=[],Q=[],R=!1,G=null,V={amount:0,curPage:1,pageSize:0},s=null;o.setCurrencyCodeCallback(function(){k(),sessionStorage.messageSwitch&&"1"==sessionStorage.messageSwitch?t("#contactUsBtn").removeClass("hide"):t("#contactUsBtn").addClass("hide")}),o.setLanguageCallback(function(){t("#breadcrumb_home").text(t.i18n.map.Home)}),o.initLoginStatus(),function(){sessionStorage.commentSwitch&&"1"==sessionStorage.commentSwitch?(L(),t("#comment_list_wrap").removeClass("hide")):t("#comment_list_wrap").addClass("hide")}(),function(){sessionStorage.btn_bg&&(t(".custom-btn").css("background",sessionStorage.btn_bg),t(".add-to-cart-success-mask .add-to-cart-success-wrap #close_add_to_cart_success_btn").css("background",sessionStorage.btn_bg)),sessionStorage.btn_fc&&(t(".custom-btn").css("color",sessionStorage.btn_fc),t(".add-to-cart-success-mask .add-to-cart-success-wrap #close_add_to_cart_success_btn").css("color",sessionStorage.btn_fc)),t("#addCartBtn").unbind("click").click(function(){console.log("addCartBtn"),O(),u(1)}),t("#customBtn").click(function(){f()}),t("#midimg").load(function(e){console.log("big image loading"),t("#imageLoading").addClass("hide"),null!==G&&l(),E.push(e.currentTarget.currentSrc)}),t("#midimg").error(function(){console.log("big image error"),t("#imageLoading").addClass("hide"),null!==G&&l()}),t("#coupon_btn").click(function(){o.util.checkIsLogin()?window.location.href="../../../my_account.html?id=4&uvid="+o.util.getUvid():window.location.href="../../../login.html?uvid="+o.util.getUvid()}),document.getElementById("qty_list").value=1,t("#qty_list").change(function(){"11"==t(this).val()&&(t(this).hide(),t(this).parent().find("input").show())}),t("#custom_type_list").change(function(){"0"==t(this).val()?(t("#custom_attrs_list").css("display","none"),t("#detail_custom_hint").css("display","none"),t("#print_number_input").val(""),t("#print_name_input").val("")):"1"==t(this).val()?(t("#custom_attrs_list").css("display","block"),t("#detail_custom_hint").css("display","block"),t("#custom_item_3").css("display","none"),t("#print_number_input").val(""),t("#custom_item_4").css("display","block")):"2"==t(this).val()?(t("#custom_attrs_list").css("display","block"),t("#detail_custom_hint").css("display","block"),t("#custom_item_3").css("display","block"),t("#custom_item_4").css("display","none"),t("#print_name_input").val("")):"3"==t(this).val()&&(t("#custom_attrs_list").css("display","block"),t("#detail_custom_hint").css("display","block"),t("#custom_item_3").css("display","block"),t("#custom_item_4").css("display","block"))}),t("#add_to_cart_success_mask #close_add_to_cart_success_btn, #add_to_cart_success_mask #continue_shopping_btn").click(function(){z()}),t("#add_to_cart_success_mask #go_to_cart_btn").click(function(){window.location.href="../../../shopping_cart.html",z()}),c(),t(".detail-bottom-content .panel-heading").click(function(){var e=t(this).parent().find(".panel-body");e.hasClass("hide")?(e.removeClass("hide"),t(this).find(".panel-heading-arrow").removeClass("icon-jiantou-xia-cuxiantiao"),t(this).find(".panel-heading-arrow").addClass("icon-jiantou-shang-cuxiantiao")):(e.addClass("hide"),t(this).find(".panel-heading-arrow").addClass("icon-jiantou-xia-cuxiantiao"),t(this).find(".panel-heading-arrow").removeClass("icon-jiantou-shang-cuxiantiao"))}),t("#prev_btn").unbind("click").click(function(){V.curPage>1&&(V.curPage=V.curPage-1,L()),t("#page").bootstrapPaginator("showPrevious")}),t("#next_btn").unbind("click").click(function(){var e=0;e=V.amount%V.pageSize==0?parseInt(V.amount/V.pageSize):parseInt(V.amount/V.pageSize)+1,V.curPage<e&&(V.curPage=V.curPage+1,L()),t("#page").bootstrapPaginator("showNext")}),t("#contactUsBtn").unbind("click").click(function(){o.util.getUserId()?window.location.href="../../../my_message.html?index=2&productId="+A.productId+"&productColorId="+A.productColorId:window.location.href="../../../login.html"}),t("#midimg").unbind("click").click(function(e){s&&t("#product_image_wrap").viewer("view")})}()});