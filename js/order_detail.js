"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","common"],function(t,e,r,i,a){function l(e){var r=[],i={};i.label=t.i18n.map.OrderNumber+":",i.value=e.orderId,r.push(i),i={},i.label=t.i18n.map.OrderDate+":",i.value=a.util.formatOrderDateTime(e.crTime),r.push(i),e.shippingAddr&&(i={},i.label=t.i18n.map.ShippedTo+":",i.value=e.shippingAddr.recFirstname+" "+e.shippingAddr.recLastname+"("+e.shippingAddr.streetAddr+" "+e.shippingAddr.extendAddr+" "+e.shippingAddr.city+","+e.shippingAddr.province+" "+e.shippingAddr.postCode+","+e.shippingAddr.fullCountry+")",r.push(i),i={},i.label="",i.value=t.i18n.map.PhoneNumberlabel+": "+e.shippingAddr.telephone,r.push(i)),e.billAddr&&(i={},i.label=t.i18n.map.BilledTo+":",i.value=e.billAddr.recFirstname+" "+e.billAddr.recLastname+"("+e.billAddr.streetAddr+" "+e.billAddr.extendAddr+" "+e.billAddr.city+","+e.billAddr.province+" "+e.billAddr.postCode+","+e.billAddr.fullCountry+")",r.push(i),i={},i.label="",i.value=t.i18n.map.PhoneNumberlabel+": "+e.billAddr.telephone,r.push(i)),i={},i.label=t.i18n.map.OrderStatus+":",0==e.paymentStatus?e.paymentStatusString=t.i18n.map.OrderStatusPendding:1==e.paymentStatus||10==e.paymentStatus?e.paymentStatusString=t.i18n.map.OrderStatusSuccess:2==e.paymentStatus?e.paymentStatusString=t.i18n.map.OrderStatusFail:3==e.paymentStatus?e.paymentStatusString=t.i18n.map.OrderStatusDelay:4==e.paymentStatus&&(e.paymentStatusString=t.i18n.map.OrderStatusDelivered),i.value=e.paymentStatusString,r.push(i),t("#order_info").html(t("#orderInfoTempl").tmpl(r)),4==e.paymentStatus?(t("#comment_opration_title").removeClass("hide"),t("#cart_list .comment-opration").removeClass("hide"),t("#cart_list #additional_comment_btn").attr("title",t.i18n.map.AdditionalCommnet),t("#cart_list #to_comment_btn").attr("title",t.i18n.map.ToCommnet)):(t("#comment_opration_title").addClass("hide"),t("#cart_list .comment-opration").addClass("hide"))}a.initLoginStatus();var d=a.util.getQueryString("id");console.log("order_detail.js---id= "+d),function(e){a.dao.getOrderDetail({orderId:e},function(e){var r=a.util.getCurrencySymbol(e.correncyCode);r||(r=a.util.getCurrencySymbol(a.util.getLocalCurrency()));var i=a.util.getAdvSource().u;i||(i=a.util.getQueryString("u"));var d="";i&&(d="?u="+i);for(var n=a.util.encodeMenuType(a.util.getUvid()),o=e.spCart,m=0;m<o.length;m++){var u=o[m];u.displayImg=a.util.picUrl+u.displayImg,u.productPrice=a.util.formatProductPrice(u.productPrice,r);var p=a.util.formatProductName(u.productName)+"-d-"+a.util.encodeMenuType(u.productId)+"-"+a.util.encodeMenuType(u.productColorId)+"-"+n+".html"+d;u.href=p}t("#cart_list").html(t("#cartTempl").tmpl(o)),t("#cart_list #color_title").html(t.i18n.map.ColorTitle),t("#cart_list .additional-commnet").html(t.i18n.map.AdditionalCommnet),t("#cart_list .to-commnet").html(t.i18n.map.ToCommnet),l(e);for(var s=e.orderDisInfos,m=0;m<s.length;m++){var c=s[m];c.disCost<0?c.disCost="-"+a.util.formatProductPrice(-c.disCost,r):c.disCost="+"+a.util.formatProductPrice(c.disCost,r)}t("#dis_info_list").html(t("#disInfoTempl").tmpl(s)),t("#sub_total").html(a.util.formatProductPrice(e.totalCost,r)),t("#grand_total").html(a.util.formatProductPrice(e.realCost,r))})}(d)});