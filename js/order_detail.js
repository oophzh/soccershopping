"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","common"],function(t,r,e,i,l){function d(r){var e=[],i={};i.label=t.i18n.map.OrderNumber+":",i.value=r.orderId,e.push(i),i={},i.label=t.i18n.map.OrderDate+":",i.value=l.util.formatOrderDateTime(r.crTime),e.push(i),r.shippingAddr&&(i={},i.label=t.i18n.map.ShippedTo+":",i.value=r.shippingAddr.recFirstname+" "+r.shippingAddr.recLastname+"("+r.shippingAddr.streetAddr+" "+r.shippingAddr.extendAddr+" "+r.shippingAddr.city+","+r.shippingAddr.province+" "+r.shippingAddr.postCode+","+r.shippingAddr.fullCountry+")",e.push(i),i={},i.label="",i.value=t.i18n.map.PhoneNumberlabel+": "+r.shippingAddr.telephone,e.push(i)),r.billAddr&&(i={},i.label=t.i18n.map.BilledTo+":",i.value=r.billAddr.recFirstname+" "+r.billAddr.recLastname+"("+r.billAddr.streetAddr+" "+r.billAddr.extendAddr+" "+r.billAddr.city+","+r.billAddr.province+" "+r.billAddr.postCode+","+r.billAddr.fullCountry+")",e.push(i),i={},i.label="",i.value=t.i18n.map.PhoneNumberlabel+": "+r.billAddr.telephone,e.push(i)),i={},i.label=t.i18n.map.OrderStatus+":",0==r.paymentStatus?r.paymentStatusString=t.i18n.map.OrderStatusPendding:1==r.paymentStatus||5==r.paymentStatus||10==r.paymentStatus?r.paymentStatusString=t.i18n.map.OrderStatusSuccess:3==r.paymentStatus?r.paymentStatusString=t.i18n.map.OrderStatusDelay:r.paymentStatusString=t.i18n.map.OrderStatusFail,i.value=r.paymentStatusString,e.push(i),t("#order_info").html(t("#orderInfoTempl").tmpl(e))}l.initLoginStatus();var a=l.util.getQueryString("id");console.log("order_detail.js---id= "+a),function(r){l.dao.getOrderDetail({orderId:r},function(r){var e=l.util.getCurrencySymbol(r.correncyCode);e||(e=l.util.getCurrencySymbol(l.util.getLocalCurrency()));for(var i=r.spCart,a=0;a<i.length;a++){var n=i[a];n.displayImg=l.util.picUrl+n.displayImg,n.productPrice=l.util.formatProductPrice(n.productPrice,e)}t("#cart_list").html(t("#cartTempl").tmpl(i)),d(r);for(var o=r.orderDisInfos,a=0;a<o.length;a++){var p=o[a];p.disCost<0?p.disCost="-"+l.util.formatProductPrice(-p.disCost,e):p.disCost="+"+l.util.formatProductPrice(p.disCost,e)}t("#dis_info_list").html(t("#disInfoTempl").tmpl(o)),t("#sub_total").html(l.util.formatProductPrice(r.totalCost,e)),t("#grand_total").html(l.util.formatProductPrice(r.realCost,e))})}(a)});