"use strict";
require.config(requireConfig),require(["jquery","tmpl","i18n","bootstrap","common"],function(e,i,r,s,t){function n(){t.dao.upcfAddrStatus({orderId:d,status:"1"},function(i){window.location.href="my_account.html",e("#confirm_address_mask").addClass("hide")})}var o=null,d=null;console.log("payment_result.js"),t.initLoginStatus(function(e){e||(window.location.href="../../../login.html")}),e("#currency_group").hide();var a=t.util.getQueryString("result"),c=t.util.getQueryString("failCode");if(!a){a=1==t.util.getQueryString("code")?0:1}if(1==a)e("#third_strp").addClass("active"),e("#step_progress").css("width","600px"),e("#success_wrap").show(),e("#fail_wrap").hide(),d=t.util.getQueryString("odi"),d||(d=t.util.getQueryString("orderId")),e("#success_order_id").html(d),function(i){t.dao.getOrderDetail({orderId:i},function(i){if("0"==i.cfaddrStatus)if(e("#success_confirm_address_wrap").removeClass("hide"),o=i.shippingAddr){var r=o.recFirstname+o.recLastname,s=o.telephone,t=o.streetAddr+" "+o.extendAddr+" "+o.city+", "+o.province+" "+o.postCode+", "+o.fullCountry;e("#order_detail_name").html(r),e("#order_mobile_name").html(s),e("#order_address_name").html(t)}else e("#success_confirm_address_wrap").addClass("hide");else e("#success_confirm_address_wrap").addClass("hide")})}(d),function(){e("#to_confirm_btn").click(function(){e("#confirm_address_mask").removeClass("hide")}),e("#confirm_btn").click(function(){n()}),e("#customservice_btn").click(function(){e("#confirm_address_mask").addClass("hide"),t.util.getUserId()?window.location.href="../../../my_message.html?index=2":window.location.href="../../../login.html"}),e("#confirm_address_close_btn").click(function(){e("#confirm_address_mask").addClass("hide")})}();else if("EC1004"==c)e("#success_wrap").hide(),e("#fail_wrap").show(),e(".fail-reason").show(),e("#payment_btn").click(function(){window.history.go(-1)});else if("EC1005"==c||"EC1006"==c){e("#success_wrap").hide(),e("#fail_wrap").show(),e(".fail-reason").hide();var l=decodeURI(t.util.getQueryString("failMsg"));e("#fail_msg").html(l),e("#fail_msg_wrap").show(),e("#payment_btn").click(function(){window.history.go(-1)})}else e("#success_wrap").hide(),e("#fail_wrap").show(),d=t.util.getQueryString("odi"),e("#payment_btn").click(function(){window.location.href="checkout_payment.html?orderId="+d})});